---
layout: post
title: 闪存
date: 2019-04-18 21:01:13 +0800
tags: [存储,硬件]
excerpt: 
comments: true
---

* TOC
{:toc}

本来看华为新弄了 FS 和编译器，想学习下。但是目前似乎放出来的技术资料并不多，就先坐下技术储备。先研究下他们做这个优化的历史北京。一路看下来发现链路太长，EXT4,更早的文件系统，最后到了闪存。
大学课堂上学过，但到现在真要考我，估计也说不出个所以然，所以先记录下闪存相关的笔记。

## 基本定义

ROM 的一种，虽然看着是`read only`，但是闪存属于的细分类别已经可以允许重写数据(EEPROM)。比较接近的两种细分类别对比来看：

* EPROM: 需要用紫外线照射才能重写数据(注定要被淘汰的技术)
* EEPROM: 多的一个`E`便是`Electrically`，可以用电擦除数据

自然 EEPROM 的应用更加广泛。目前手机上的存储主要就是闪存（EEPROM)。闪存用于手机等移动设备的一些原因如下:

1. 动态抗震性好(没有机械部件)
2. 极端环境下也比较可靠(手机三防)
3. 在擦除数据时比一般的 EEPROM 效率更高(区块对字节)


## NOR / NAND
两种 flash 的类型，直接上一个比较简单的表格对比：


|          | NOR         | NAND     |
|:--------:|:-----------:|:--------:|
| 抹写速度 | 慢          | 快       |
| 抹写次数 | 低          | 高 (10x) |
| 存取方式 | 随机        | 区块     |
| 成本     | 高          | 低       |
| 面积     | 大          | 小       |
| 适用场景 | 微处理器    | 普通存储 |
| 实际使用 | BIOS/机顶盒 | U 盘/SSD         |



## eMMC / UFS

华为 P10 将这两个东西带到大众视野面前。可以说 UFS/eMMC 是一种内嵌式存储器的标准规格（基于闪存介质的基础上集成主控芯片，而且拥有标准接口）

还是表格对比

|                | eMMC             | UFS               |
| :------------: | ---------------- | ----------------- |
| 全拼            | embedded MultiMedia Card | Universal Flash Storage |
|    读写速度    | 50MB/S - 600MB/S | 780MB/S - 1.5GB/S |
| 价格(仅作对比) | 67 - 145RMB      | 285RMB            |
|    工作模式    | 半双工           | 全双工模式        |
|                |                  |                   |




## Links
1. [维基百科:闪存](https://zh.wikipedia.org/wiki/%E9%97%AA%E5%AD%98)
2. [杂谈闪存二：NOR 和 NAND Flash](https://zhuanlan.zhihu.com/p/26745577)
3. [有关手机闪存类型的一些知识](https://zhuanlan.zhihu.com/p/42998104)
4. [UFS 与 eMMC 到底是啥？3 分钟带你看懂它们的秘密](<https://mobile.pconline.com.cn/913/9130147.html>)
5. [浅谈 SSD，eMMC，UFS](https://zhuanlan.zhihu.com/p/26551438)

